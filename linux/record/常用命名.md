

常用命名

```shell
#批量安装RPM包
rpm -Uvih *rpm

#文件列表，时间倒序
ls -lrt

screen -D -RR

nohup command > ./nohup.log 2>&1 &
nohup command 2>&1 < /dev/null &

ip addr # ifconfig

#-e参数可以执行shell命令后进行子shell再执行命令
mysql -uitrunkadm -p@Zse4rfv_ -e "select * from zone_id_assign;"
```



Yum Update: DB_RUNRECOVERY Fatal error, run database recovery
error: db5 error(-30973) from dbenv->failchk: BDB0087 DB_RUNRECOVERY: Fatal error, run database recovery

```shell
mv /var/lib/rpm/__db* /tmp/
rpm --rebuilddb
yum clean all
```

搜索大文件：

##### screen: https://www.cnblogs.com/mchina/archive/2013/01/30/2880680.html

##### sed_awk: [Linux三大利器grep，sed，awk](https://segmentfault.com/a/1190000015885994)：https://segmentfault.com/a/1190000015885994 

##### top命令按内存和cpu排序：https://blog.csdn.net/daiyudong2020/article/details/52760846

#### 需要熟悉的操作：

##### 空间不足：磁盘空间分析，找出占用空间的文件和路径，搜索大文件，列出各个文件夹大小汇总

##### 内存不足：找出占内存的程序，swap空间，

##### 程序相关：查看程序运行状态，是否在运行，程序位置，监听端口，日志位置，搜索日志



##### linux shell 多个命令一起执行的几种方法:https://blog.csdn.net/bananasssss/article/details/51315342

```shell
# ;始终都会执行，&&与，前者成功才执行后者，||或，前者失败才执行后者
./zookeeper1/myid ; echo "1" >> ./zookeeper1/myid
./zookeeper1/myid && echo "1" >> ./zookeeper1/myid
./zookeeper1/myid || echo "1" >> ./zookeeper1/myid
```

复制ISO

```shell
md5sum itrunk_R04.05.22.iso
touch itrunk_R04.05.22.fe135418ead92a72e0f71af5e65a76ef
ls -lrt
sftp rtv@172.17.98.42
get itrunk_R04.05.22.iso
quit
md5sum itrunk_R04.05.22.iso
touch itrunk_R04.05.22.fe135418ead92a72e0f71af5e65a76ef
```

压缩解压 https://www.jianshu.com/p/ca41f32420d6

```shell
#tar
解包：tar xvf FileName.tar
打包：tar cvf FileName.tar DirName
（注：tar是打包，不是压缩！）

#.xz
解包：tar xvf FileName.tar.xz
打包：tar cvf FileName.tar DirName

#.tar.gz 和 .tgz
解压：tar zxvf FileName.tar.gz
压缩：tar zcvf FileName.tar.gz DirName

#.gz
解压1：gunzip FileName.gz
解压2：gzip -d FileName.gz
压缩：gzip FileName

#.zip
解压：unzip FileName.zip
压缩：zip FileName.zip DirName
压缩一个目录使用 -r 参数，-r 递归。例： $ zip -r FileName.zip DirName

#.rar
解压：rar x FileName.rar
压缩：rar a FileName.rar DirName

#.rpm .deb
解包：rpm2cpio FileName.rpm | cpio -div
解包：ar p FileName.deb data.tar.gz | tar zxf -

```

