# mysql常用命令

##### 权限

```mysql
show grants for itrunklmt;#不是查看所有 ，只等同于'itrunklmt'@'%'，要看localhost要指定
show grants for 'itrunklmt'@'%';
show grants for 'itrunklmt'@'localhost';
```



##### 系统变量相关

```mysql
## 查看排序规则
#备注：_ci结尾表示大小写不敏感（caseinsensitive）,_cs表示大小写敏感（case sensitive）,_bin表示二进制的比较（binary）
show variables like 'collation%';

## 查看mysql版本
select VERSION();

## 查看编码
show variables like 'char%';

## 在msyql命令行下执行系统命令，shell命令前加上system，就是执行shell命令
system ls /usr/local

## 设置系统参数
SHOW VARIABLES LIKE '%log_%';
SET GLOBAL general_log_file = '/var/log/mysql/mysql_general2.log';
SET GLOBAL general_log_file = '/var/log/mysql/mysql_general.log';

#查看数据库线程列表
SHOW FULL PROCESSLIST\G;
```



##### SQL语句相关

```mysql
SHOW CREATE TABLE rtv_user;
SHOW INDEX FROM rtv_user;
ALTER TABLE rtv_user DROP INDEX index_name;
CREATE INDEX index_name ON rtv_user (username(8));

## 除重复记录：
DELETE FROM rtv_version_user_map WHERE id IN(  SELECT * FROM ( SELECT id FROM rtv_version_user_map GROUP BY uid HAVING count(uid)>1) as t );
```



##### 导入导出备份恢复相关

```mysql
## 导出脚本
mysqldump -uitrunk -p rtvitrunk --ignore-table=rtvitrunk.rtv_gps_info > rtvitrunk_without_gps_201908121432.sql
#执行SQL脚本文件，方式一
mysql -uroot -p dbname < /home/itrunk/rtvitrunk.sql
#方式二：进入mysql
mysql -uroot -p
use rtvitrunk;
source /home/itrunk/rtvitrunk.sql

```



##### 其他

